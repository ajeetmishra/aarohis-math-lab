<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ishi's Math Lab</title>
    <style>
        :root {
            --bg: #f8fafc;
            --text: #0f172a;
            --primary: #0284c7;
        }
        body {
            font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
            background-color: var(--bg);
            color: var(--text);
            margin: 0;
            padding: 40px 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        h1 {
            font-size: 2.5rem;
            color: #0369a1;
            margin-bottom: 10px;
            text-align: center;
        }
        .subtitle {
            color: #64748b;
            margin-bottom: 40px;
            font-size: 1.1rem;
        }
        .grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 24px;
            width: 100%;
            max-width: 1100px;
        }
        .card {
            background: white;
            padding: 32px;
            border-radius: 24px;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
            text-align: center;
            cursor: pointer;
            transition: all 0.2s ease-in-out;
            border: 4px solid transparent;
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        .card:hover {
            transform: translateY(-8px);
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1);
            border-color: #bae6fd;
        }
        .icon {
            font-size: 3.5rem;
            margin-bottom: 16px;
        }
        .title {
            font-size: 1.25rem;
            font-weight: 800;
            color: #0c4a6e;
            margin-bottom: 8px;
        }
        .desc {
            font-size: 0.95rem;
            color: #475569;
            line-height: 1.5;
        }
        /* Color Accents */
        .card.blue { border-bottom: 8px solid #38bdf8; }
        .card.purple { border-bottom: 8px solid #a855f7; }
        .card.green { border-bottom: 8px solid #4ade80; }
        .card.orange { border-bottom: 8px solid #fb923c; }
        .card.pink { border-bottom: 8px solid #f472b6; }
        .card.indigo { border-bottom: 8px solid #6366f1; }
        .card.teal { border-bottom: 8px solid #2dd4bf; }
        .card.red  { border-bottom: 8px solid #f87171; }
        
        /* Mobile responsive text - hide mobile text by default on desktop */
        .mobile-text { display: none; }
        .desktop-text { display: inline; }
        
        /* Hide navigation button text on very small screens */
        @media (max-width: 480px) {
            .nav-text {
                display: none !important;
            }
        }

        /* Mode-chooser overlay */
        #mode-overlay {
            position: fixed;
            inset: 0;
            z-index: 9000;
            background: rgba(0, 0, 0, 0.55);
            display: none;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }
        #mode-overlay.visible {
            display: flex;
        }
        .mode-modal {
            background: white;
            border-radius: 24px;
            padding: 40px 36px 32px;
            max-width: 780px;
            width: 100%;
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.35);
            text-align: center;
        }
        .mode-modal h2 {
            font-size: 1.9rem;
            color: #0c4a6e;
            margin: 0 0 8px;
        }
        .mode-modal .mode-sub {
            color: #64748b;
            font-size: 1rem;
            margin: 0 0 28px;
        }
        .mode-choices {
            display: flex;
            gap: 20px;
            flex-wrap: wrap;
            justify-content: center;
        }
        .mode-card {
            flex: 1 1 280px;
            border-radius: 16px;
            padding: 28px 24px 24px;
            border: 2px solid #e2e8f0;
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: left;
            transition: transform 0.18s ease, box-shadow 0.18s ease;
            cursor: default;
        }
        .mode-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 12px 24px -6px rgba(0, 0, 0, 0.12);
        }
        .mode-card.indigo  { border-bottom: 6px solid #6366f1; }
        .mode-card.purple  { border-bottom: 6px solid #a855f7; }
        .mode-card.green   { border-bottom: 6px solid #4ade80; }
        .mode-card.teal    { border-bottom: 6px solid #2dd4bf; }
        .mode-card.pink    { border-bottom: 6px solid #f472b6; }
        .mode-card.orange  { border-bottom: 6px solid #fb923c; }
        .mode-card.red     { border-bottom: 6px solid #f87171; }
        .mode-card.indigo .mc-btn  { background: #6366f1; color: white; }
        .mode-card.purple .mc-btn  { background: #a855f7; color: white; }
        .mode-card.green .mc-btn   { background: #16a34a; color: white; }
        .mode-card.teal .mc-btn    { background: #0d9488; color: white; }
        .mode-card.pink .mc-btn    { background: #db2777; color: white; }
        .mode-card.orange .mc-btn  { background: #ea580c; color: white; }
        .mode-card.red .mc-btn     { background: #dc2626; color: white; }
        .mode-card .mc-icon {
            font-size: 2.6rem;
            margin-bottom: 12px;
            text-align: center;
            width: 100%;
        }
        .mode-card .mc-title {
            font-size: 1.2rem;
            font-weight: 800;
            color: #0c4a6e;
            margin-bottom: 12px;
            text-align: center;
            width: 100%;
        }
        .mode-card ul {
            margin: 0 0 20px;
            padding-left: 20px;
            color: #475569;
            font-size: 0.9rem;
            line-height: 1.7;
        }
        .mode-card .mc-btn {
            display: block;
            width: 100%;
            padding: 12px;
            border: none;
            border-radius: 10px;
            font-size: 1rem;
            font-weight: 700;
            cursor: pointer;
            text-decoration: none;
            text-align: center;
            transition: opacity 0.15s;
            box-sizing: border-box;
        }
        .mode-card .mc-btn:hover { opacity: 0.88; }
        /* mc-btn colors are set alongside border colors above */
        .mode-back {
            margin-top: 20px;
            background: none;
            border: none;
            color: #64748b;
            font-size: 0.9rem;
            cursor: pointer;
            text-decoration: underline;
        }
        .mode-back:hover { color: #0c4a6e; }

        /* Mobile media query */
        @media (max-width: 600px) {
            .mode-choices { flex-direction: column; }
            .mode-modal { padding: 28px 20px 24px; }
            .mode-modal h2 { font-size: 1.4rem; }
        }

        @media (max-width: 768px) {
            /* Mobile responsive text */
            .desktop-text { display: none !important; }
            .mobile-text { display: inline !important; }

            /* Mobile navigation - buttons in one horizontal row */
            #nav-icons {
                right: 15px !important;
                top: 15px !important;
                flex-direction: row !important;
                flex-wrap: wrap !important;
                gap: 5px !important;
            }

            /* Smaller padding and font size for mobile buttons */
            #nav-icons a {
                padding: 8px 10px !important;
                font-size: 0.8rem !important;
            }
        }
    </style>
</head>
<body>

    <h1>üöÄ Ishi's Math Lab</h1>
    <p class="subtitle">Select a mission to start your training!</p>

    <div class="grid">
        <div class="card teal" onclick="location.href='geometry.html'">
            <span class="icon">üìê</span>
            <div class="title">Robotics Compass</div>
            <div class="desc">Explore angles and shapes with a visual grid.</div>
        </div>

        <div class="card blue" onclick="location.href='number_theory.html'">
            <span class="icon">üî¢</span>
            <div class="title">Number Hunter</div>
            <div class="desc">Master Primes, Factors, HCF, and LCM.</div>
        </div>

        <div class="card orange" onclick="location.href='estimation.html'">
            <span class="icon">üß†</span>
            <div class="title">Estimation Station</div>
            <div class="desc">Learn to round numbers and guess like a pro.</div>
        </div>

        <div class="card green" onclick="showModeChoice('fractions')">
            <span class="icon">üçï</span>
            <div class="title">Fraction Lab</div>
            <div class="desc">Practical practice for all four fraction operations.</div>
        </div>

        <div class="card pink" onclick="showModeChoice('converter')">
            <span class="icon">üßµ</span>
            <div class="title">Tailor's Measure</div>
            <div class="desc">Convert Metric, Imperial, and large denominations.</div>
        </div>

        <div class="card indigo" onclick="showModeChoice('multiplication')">
            <span class="icon">‚úñÔ∏è</span>
            <div class="title">Multiplication Pro</div>
            <div class="desc">Master single and double-digit multiplication.</div>
        </div>

        <div class="card purple" onclick="showModeChoice('fasttrack')">
            <span class="icon">‚ö°</span>
            <div class="title">Fast-Track Math</div>
            <div class="desc">Translate between %, Fractions, and Decimals instantly.</div>
        </div>

        <div class="card red" onclick="showModeChoice('negatives')">
            <span class="icon">‚ûñ</span>
            <div class="title">Negative Numbers</div>
            <div class="desc">Add, subtract, multiply and divide with negative numbers.</div>
        </div>

    </div>

    <!-- Generic Mode Chooser Overlay -->
    <div id="mode-overlay" onclick="if(event.target===this) closeModeChoice()">
        <div class="mode-modal">
            <h2 id="mo-title"></h2>
            <p class="mode-sub" id="mo-sub"></p>
            <div class="mode-choices">
                <div class="mode-card" id="mo-flash"></div>
                <div class="mode-card" id="mo-quiz"></div>
            </div>
            <button class="mode-back" onclick="closeModeChoice()">‚Üê Back</button>
        </div>
    </div>

    <!-- Navigation Icons -->
    <div id="nav-icons" style="position: fixed; top: 15px; right: 250px; z-index: 4000; display: flex; gap: 10px;">
        <a href="about.html" style="display: block; padding: 10px 15px; background: rgba(0,0,0,0.5); color: white; border: none; border-radius: 8px; font-size: 0.9rem; text-decoration: none; cursor: pointer;" title="About">
            ‚ÑπÔ∏è<span class="nav-text"> About</span>
        </a>
        <a href="donate.html" style="display: block; padding: 10px 15px; background: rgba(255,165,0,0.9); color: white; border: none; border-radius: 8px; font-size: 0.9rem; text-decoration: none; cursor: pointer; font-weight: bold;" title="Support with a coffee">
            <span class="desktop-text">‚òï Donate ‚Çπ99</span><span class="mobile-text">‚òï‚Çπ99</span>
        </a>
        <a href="donate_usd.html" style="display: block; padding: 10px 15px; background: rgba(34,197,94,0.9); color: white; border: none; border-radius: 8px; font-size: 0.9rem; text-decoration: none; cursor: pointer; font-weight: bold;" title="International support">
            <span class="desktop-text">üíµ Donate USD</span><span class="mobile-text">$USD</span>
        </a>
    </div>

    <script>
        const modeConfigs = {
            multiplication: {
                title: '‚úñÔ∏è Choose Your Mode',
                sub: 'Both modes cover the same tables ‚Äî pick the style that suits you today.',
                flash: {
                    url: 'multiplication.html', colorClass: 'indigo', icon: '‚ö°', title: 'Flashcards',
                    benefits: ['Instant practice ‚Äî no typing needed', 'Perfect for drilling times tables fast', 'Reveal the answer and move on', 'Great warm-up before a test']
                },
                quiz: {
                    url: 'multiplication_game.html', colorClass: 'purple', icon: 'üéØ', title: 'Quiz',
                    benefits: ['Type the answer to reinforce memory', 'Tracks score, correct answers &amp; level', 'Level up every 10 correct answers', 'üéÆ Earn a 1-min Tetris break (5√ó5 streaks!)']
                }
            },
            fractions: {
                title: 'üçï Choose Your Mode',
                sub: 'Both modes practise the same fraction operations.',
                flash: {
                    url: 'fractions.html', colorClass: 'green', icon: '‚ö°', title: 'Flashcards',
                    benefits: ['Reveal-answer style ‚Äî no typing', 'All four operations: +  ‚àí  √ó  √∑', 'Mixed-fraction display option', 'Great for visual learners']
                },
                quiz: {
                    url: 'fractions_game.html', colorClass: 'teal', icon: 'üéØ', title: 'Quiz',
                    benefits: ['Type the answer (e.g. "3/4")', 'Scored with level progression', 'Checks your simplified answer', 'üéÆ Earn a 3-min Tetris break (5√ó5 streaks!)']
                }
            },
            converter: {
                title: 'üßµ Choose Your Mode',
                sub: 'Both modes cover the same unit conversions.',
                flash: {
                    url: 'converter.html', colorClass: 'pink', icon: '‚ö°', title: 'Flashcards',
                    benefits: ['Step through: problem ‚Üí hint ‚Üí answer', 'All categories: length, time, weight‚Ä¶', 'SI and Imperial/Customary units', 'Perfect for learning the logic']
                },
                quiz: {
                    url: 'converter_game.html', colorClass: 'orange', icon: 'üéØ', title: 'Quiz',
                    benefits: ['Type the converted number', 'Scored with level progression', 'Tolerates small rounding differences', 'History saved across sessions']
                }
            },
            fasttrack: {
                title: '‚ö° Choose Your Mode',
                sub: 'Both modes cover %, fractions, and decimals.',
                flash: {
                    url: 'fast_track.html', colorClass: 'purple', icon: '‚ö°', title: 'Flashcards',
                    benefits: ['Step through hint then answer', 'All conversion directions', 'Flip mode for reverse logic', 'Great for conceptual learning']
                },
                quiz: {
                    url: 'fast_track_game.html', colorClass: 'indigo', icon: 'üéØ', title: 'Quiz',
                    benefits: ['Type your answer (50%, 1/2, or 0.5)', 'Accepts any equivalent format', 'Scored with level progression', 'üéÆ Earn a 5-min Tetris break (5√ó5 streaks!)']
                }
            },
            negatives: {
                title: '‚ûñ Choose Your Mode',
                sub: 'Both modes cover addition, subtraction, multiplication &amp; division with negatives.',
                flash: {
                    url: 'negatives.html', colorClass: 'pink', icon: '‚ö°', title: 'Flashcards',
                    benefits: ['Reveal-answer style ‚Äî no typing', 'All four operations with negatives', 'Parenthesis notation: (‚àí5) + 3', 'Great for building intuition']
                },
                quiz: {
                    url: 'negatives_game.html', colorClass: 'orange', icon: 'üéØ', title: 'Quiz',
                    benefits: ['Type the answer (supports negatives)', 'Use ¬± button to negate on mobile', 'Scored with level progression', 'üéÆ Earn a 2-min Tetris break (5√ó5 streaks!)']
                }
            }
        };

        function buildModeCard(cfg) {
            return `<div class="mc-icon">${cfg.icon}</div>
                    <div class="mc-title">${cfg.title}</div>
                    <ul>${cfg.benefits.map(b => `<li>${b}</li>`).join('')}</ul>
                    <a class="mc-btn" href="${cfg.url}">Start ${cfg.title} ‚Üí</a>`;
        }

        function showModeChoice(subject) {
            const c = modeConfigs[subject];
            document.getElementById('mo-title').innerHTML  = c.title;
            document.getElementById('mo-sub').textContent  = c.sub;
            const flash = document.getElementById('mo-flash');
            const quiz  = document.getElementById('mo-quiz');
            flash.className = `mode-card ${c.flash.colorClass}`;
            quiz.className  = `mode-card ${c.quiz.colorClass}`;
            flash.innerHTML = buildModeCard(c.flash);
            quiz.innerHTML  = buildModeCard(c.quiz);
            document.getElementById('mode-overlay').classList.add('visible');
        }

        function closeModeChoice() {
            document.getElementById('mode-overlay').classList.remove('visible');
        }
    </script>
</body>
</html>